<!DOCTYPE HTML><html><head><title>LiveOak Scripting REST API documentation</title><meta http-equiv=X-UA-Compatible content="IE=edge"><meta http-equiv=Content-Type content="text/html; charset=utf-8"><meta name=generator content="https://github.com/kevinrenskers/raml2html 0.30.0"><link rel=stylesheet href=http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css><link rel=stylesheet href=http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/default.min.css><script type=text/javascript src=http://code.jquery.com/jquery-1.11.0.min.js></script><script type=text/javascript src=http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js></script><script type=text/javascript src=http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js></script><script type=text/javascript>
        $(document).ready(function() {
            $('.page-header pre code, .top-resource-description pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });

            $('[data-toggle]').click(function() {
                var selector = $(this).data('target') + ' pre code';
                $(selector).each(function(i, block) {
                    hljs.highlightBlock(block);
                });
            });
        });
    </script><style>
        .hljs {
            background: transparent;
        }
        .parent {
            color: #999;
        }
        .list-group-item > .badge {
            float: none;
            margin-right: 6px;
        }
        .panel-title > .methods {
            float: right;
        }
        .badge {
            border-radius: 0;
            text-transform: uppercase;
            width: 70px;
            font-weight: normal;
            color: #f3f3f6;
            line-height: normal;
        }
        .badge_get {
            background-color: #63a8e2;
        }
        .badge_post {
            background-color: #6cbd7d;
        }
        .badge_put {
            background-color: #22bac4;
        }
        .badge_delete {
            background-color: #d26460;
        }
        .list-group, .panel-group {
            margin-bottom: 0;
        }
        .panel-group .panel+.panel-white {
            margin-top: 0;
        }
        .panel-group .panel-white {
            border-bottom: 1px solid #F5F5F5;
            border-radius: 0;
        }
        .panel-white:last-child {
            border-bottom-color: white;
            -webkit-box-shadow: none;
            box-shadow: none;
        }
        .panel-white .panel-heading {
            background: white;
        }
        .tab-pane ul {
            padding-left: 2em;
        }
        .tab-pane h2 {
            font-size: 1.2em;
            padding-bottom: 4px;
            border-bottom: 1px solid #ddd;
        }
        .tab-pane h3 {
            font-size: 1.1em;
        }
        .tab-content {
            border-left: 1px solid #ddd;
            border-right: 1px solid #ddd;
            border-bottom: 1px solid #ddd;
            padding: 10px;
        }
        #sidebar {
            margin-top: 30px;
        }
        .top-resource-description {
            border-bottom: 1px solid #ddd;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .resource-description {
            border-bottom: 1px solid #fcfcfc;
            background: #fcfcfc;
            padding: 15px 15px 0 15px;
            margin: -15px -15px 10px -15px;
        }
        .panel > .panel-body > .panel-group > .panel:first-child .resource-description {
            display: none;
        }
        .list-group .badge {
            float: left;
        }
        .method_description {
            margin-left: 85px;
        }
        .method_description p:last-child {
            margin: 0;
        }
    </style></head><body data-spy=scroll data-target=#sidebar><div class=container><div class=row><div class=col-md-9 role=main><div class=page-header><h1>LiveOak Scripting REST API documentation <small>version alpha02</small></h1><p></p><h3 id=LiveOak-Scripting><a href=#LiveOak-Scripting>LiveOak Scripting</a></h3><p>The LiveOak scripting REST endpoints here describe how to setup and configure the scripts within your LiveOak instance. Creating and managing scripts falls under an administrator role, and as such all of these endpoints are available under the private admin interface:</p><blockquote><p>/admin/applications/{appId}/resources/scripts</p></blockquote></div><div class="panel panel-default"><div class=panel-heading><h3 id=_resource_triggered_scripts class=panel-title>Resource Triggered Scripts</h3></div><div class=panel-body><div class=top-resource-description><p>These types of scripts are triggered whenever a resource is accessed or modified.</p></div><div class=panel-group><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__resource_triggered_scripts><span class=parent></span>/resource-triggered-scripts</a> <span class=methods><a href=# data-toggle=modal data-target=#_resource_triggered_scripts_get><span class="badge badge_get">get</span></a> <a href=# data-toggle=modal data-target=#_resource_triggered_scripts_post><span class="badge badge_post">post</span></a></span></h4></div><div id=panel__resource_triggered_scripts class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>These types of scripts are triggered whenever a resource is accessed or modified.</p></div><div class=list-group><a href=# data-toggle=modal data-target=#_resource_triggered_scripts_get class=list-group-item><span class="badge badge_get">get</span><div class=method_description><p>Lists all the available resource triggered scripts</p></div><div class=clearfix></div></a> <a href=# data-toggle=modal data-target=#_resource_triggered_scripts_post class=list-group-item><span class="badge badge_post">post</span><div class=method_description><p>Creates a new resource triggered script</p></div><div class=clearfix></div></a></div></div></div><div class="modal fade" tabindex=0 id=_resource_triggered_scripts_get><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_get">get</span> <span class=parent></span>/resource-triggered-scripts</h4></div><div class=modal-body><div class="alert alert-info"><p>Lists all the available resource triggered scripts</p></div><ul class="nav nav-tabs"><li class=active><a href=#_resource_triggered_scripts_get_request data-toggle=tab>Request</a></li></ul><div class=tab-content><div class="tab-pane active" id=_resource_triggered_scripts_get_request><h3>Query Parameters</h3><ul><li><strong>limit</strong> <em>(number)</em><p>the number of results to return</p></li><li><strong>offset</strong> <em>(number)</em><p>the offset for returned results</p></li><li><strong>sort</strong> <em>(string)</em><p>the field to sort on. Can take multiple parameters separated by a comma and a negative result returns the sorting in reverse order.</p><p><small><strong>Example</strong>:<pre><code>-price,name</code></pre></small></p></li><li><strong>target</strong> <em>(string)</em><p>filters the list of resource triggered scripts to be those which are only applied to this path.</p><p><small><strong>Example</strong>:<pre><code>/test/storage/products/123XYZ</code></pre></small></p></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex=0 id=_resource_triggered_scripts_post><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_post">post</span> <span class=parent></span>/resource-triggered-scripts</h4></div><div class=modal-body><div class="alert alert-info"><p>Creates a new resource triggered script</p></div><ul class="nav nav-tabs"><li class=active><a href=#_resource_triggered_scripts_post_request data-toggle=tab>Request</a></li></ul><div class=tab-content><div class="tab-pane active" id=_resource_triggered_scripts_post_request><h3>Body</h3><p><strong>Type: application/json</strong></p><p><small><strong>Schema</strong>:<pre><code>{
  "type": "object",
  "properties": {
     "id": {
       "type": "string",
       "required": false,
       "default": "System generated UUID"
     },
     "name" : {
       "type": "string",
       "required": false,
       "description": "A human readable name for this script"
     },
     "description" : {
       "type": "string",
       "required": false,
       "description": "A human readable description for this script" 
     },
     "target-path" : {
       "type": "string",
       "required": true,
       "description": "The path of the targets to monitor"
     },
     "priority": {
       "type": "number",
       "required": false,
       "default": 1,
       "description": "Specifies the order this script should be run. The higher the priority the sooner the script is executed"
     },
     "enabled": {
       "type": "boolean",
       "required": false,
       "default": true
     },
     "libraries": {
       "type": "array",
       "required": false,
       "description": "The list of libraries available to the script"
     }
   }
}
</code></pre></small></p><p><small><strong>Example</strong>:<pre><code>{ 
  "id": "myScript",
  "name": "MyScript",
  "description": "This script does some cool stuff my monitoring what is stored in the products database collection",
  "target-path": "/myApp/storage/products/*",
  "priority": 1,
  "enabled": true,
  "libraries": ["client"]
}
</code></pre></small></p></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__resource_triggered_scripts__id_><span class=parent>/resource-triggered-scripts</span>/{id}</a> <span class=methods><a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__get><span class="badge badge_get">get</span></a> <a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__put><span class="badge badge_put">put</span></a> <a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__delete><span class="badge badge_delete">delete</span></a></span></h4></div><div id=panel__resource_triggered_scripts__id_ class="panel-collapse collapse"><div class=panel-body><div class=list-group><a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__get class=list-group-item><span class="badge badge_get">get</span><div class=method_description><p>Get the script</p></div><div class=clearfix></div></a> <a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__put class=list-group-item><span class="badge badge_put">put</span><div class=method_description><p>Update the script&#39;s metadata</p></div><div class=clearfix></div></a> <a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__delete class=list-group-item><span class="badge badge_delete">delete</span><div class=method_description><p>Delete the script</p></div><div class=clearfix></div></a></div></div></div><div class="modal fade" tabindex=0 id=_resource_triggered_scripts__id__get><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_get">get</span> <span class=parent>/resource-triggered-scripts</span>/{id}</h4></div><div class=modal-body><div class="alert alert-info"><p>Get the script</p></div><ul class="nav nav-tabs"><li class=active><a href=#_resource_triggered_scripts__id__get_request data-toggle=tab>Request</a></li><li><a href=#_resource_triggered_scripts__id__get_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_resource_triggered_scripts__id__get_request><h3>URI Parameters</h3><ul><li><strong>id</strong>: <em>required (string)</em><p>The script id</p></li></ul></div><div class=tab-pane id=_resource_triggered_scripts__id__get_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/json</strong></p><p><small><strong>Example</strong>:<pre><code>{
  "id": "myScript",
  "name": "MyScript",
  "description": "This script does some cool stuff my monitoring what is stored in the products database collection",
  "target-path": "/myApp/storage/products/*",
  "priority": 1,
  "enabled": true,
  "libraries": ["client"]
}
</code></pre></small></p></div></div></div></div></div></div><div class="modal fade" tabindex=0 id=_resource_triggered_scripts__id__put><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_put">put</span> <span class=parent>/resource-triggered-scripts</span>/{id}</h4></div><div class=modal-body><div class="alert alert-info"><p>Update the script&#39;s metadata</p></div><ul class="nav nav-tabs"><li class=active><a href=#_resource_triggered_scripts__id__put_request data-toggle=tab>Request</a></li></ul><div class=tab-content><div class="tab-pane active" id=_resource_triggered_scripts__id__put_request><h3>URI Parameters</h3><ul><li><strong>id</strong>: <em>required (string)</em><p>The script id</p></li></ul></div></div></div></div></div></div><div class="modal fade" tabindex=0 id=_resource_triggered_scripts__id__delete><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_delete">delete</span> <span class=parent>/resource-triggered-scripts</span>/{id}</h4></div><div class=modal-body><div class="alert alert-info"><p>Delete the script</p></div><ul class="nav nav-tabs"><li class=active><a href=#_resource_triggered_scripts__id__delete_request data-toggle=tab>Request</a></li></ul><div class=tab-content><div class="tab-pane active" id=_resource_triggered_scripts__id__delete_request><h3>URI Parameters</h3><ul><li><strong>id</strong>: <em>required (string)</em><p>The script id</p></li></ul></div></div></div></div></div></div></div><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__resource_triggered_scripts__id__script><span class=parent>/resource-triggered-scripts/{id}</span>/script</a> <span class=methods><a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__script_get><span class="badge badge_get">get</span></a> <a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__script_put><span class="badge badge_put">put</span></a> <a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__script_delete><span class="badge badge_delete">delete</span></a></span></h4></div><div id=panel__resource_triggered_scripts__id__script class="panel-collapse collapse"><div class=panel-body><div class=list-group><a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__script_get class=list-group-item><span class="badge badge_get">get</span><div class=method_description><p>Get the script&#39;s javascript source.</p></div><div class=clearfix></div></a> <a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__script_put class=list-group-item><span class="badge badge_put">put</span><div class=method_description><p>Update the script&#39;s javascript source</p></div><div class=clearfix></div></a> <a href=# data-toggle=modal data-target=#_resource_triggered_scripts__id__script_delete class=list-group-item><span class="badge badge_delete">delete</span><div class=method_description><p>Delete the script&#39;s javascript source</p></div><div class=clearfix></div></a></div></div></div><div class="modal fade" tabindex=0 id=_resource_triggered_scripts__id__script_get><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_get">get</span> <span class=parent>/resource-triggered-scripts/{id}</span>/script</h4></div><div class=modal-body><div class="alert alert-info"><p>Get the script&#39;s javascript source.</p></div><ul class="nav nav-tabs"><li class=active><a href=#_resource_triggered_scripts__id__script_get_request data-toggle=tab>Request</a></li><li><a href=#_resource_triggered_scripts__id__script_get_response data-toggle=tab>Response</a></li></ul><div class=tab-content><div class="tab-pane active" id=_resource_triggered_scripts__id__script_get_request><h3>URI Parameters</h3><ul><li><strong>id</strong>: <em>required (string)</em><p>The script id</p></li></ul></div><div class=tab-pane id=_resource_triggered_scripts__id__script_get_response><h2>HTTP status code <a href=http://httpstatus.es/200 target=_blank>200</a></h2><h3>Body</h3><p><strong>Type: application/javascript</strong></p><p><small><strong>Example</strong>:<pre><code>function preRead(request, libraries) {
	print("Hello incoming request for " + request.path);
}

function postRead(response, libraries) {
	print("Goodbye outgoing response for " + response.request.path);
}
</code></pre></small></p></div></div></div></div></div></div><div class="modal fade" tabindex=0 id=_resource_triggered_scripts__id__script_put><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_put">put</span> <span class=parent>/resource-triggered-scripts/{id}</span>/script</h4></div><div class=modal-body><div class="alert alert-info"><p>Update the script&#39;s javascript source</p></div><ul class="nav nav-tabs"><li class=active><a href=#_resource_triggered_scripts__id__script_put_request data-toggle=tab>Request</a></li></ul><div class=tab-content><div class="tab-pane active" id=_resource_triggered_scripts__id__script_put_request><h3>URI Parameters</h3><ul><li><strong>id</strong>: <em>required (string)</em><p>The script id</p></li></ul><h3>Body</h3><p><strong>Type: application/javascript</strong></p><p><small><strong>Example</strong>:<pre><code>function preRead(request, libraries) {
	print("Hello incoming request for " + request.path);
}

function postRead(response, libraries) {
	print("Goodbye outgoing response for " + response.request.path);
}
</code></pre></small></p></div></div></div></div></div></div><div class="modal fade" tabindex=0 id=_resource_triggered_scripts__id__script_delete><div class=modal-dialog><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal aria-hidden=true>&times;</button><h4 class=modal-title id=myModalLabel><span class="badge badge_delete">delete</span> <span class=parent>/resource-triggered-scripts/{id}</span>/script</h4></div><div class=modal-body><div class="alert alert-info"><p>Delete the script&#39;s javascript source</p></div><ul class="nav nav-tabs"><li class=active><a href=#_resource_triggered_scripts__id__script_delete_request data-toggle=tab>Request</a></li></ul><div class=tab-content><div class="tab-pane active" id=_resource_triggered_scripts__id__script_delete_request><h3>URI Parameters</h3><ul><li><strong>id</strong>: <em>required (string)</em><p>The script id</p></li></ul></div></div></div></div></div></div></div></div></div></div><div class="panel panel-default"><div class=panel-heading><h3 id=_endpoint_scripts class=panel-title>Endpoint Scripts</h3></div><div class=panel-body><div class=top-resource-description><p>Scripts which will expose custom endpoints to be used by client applications.</p><p><strong>COMING SOON</strong></p></div><div class=panel-group><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__endpoint_scripts><span class=parent></span>/endpoint-scripts</a> <span class=methods></span></h4></div><div id=panel__endpoint_scripts class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>Scripts which will expose custom endpoints to be used by client applications.</p><p><strong>COMING SOON</strong></p></div><div class=list-group></div></div></div></div></div></div></div><div class="panel panel-default"><div class=panel-heading><h3 id=_sheduled_scripts class=panel-title>Scheduled Scripts</h3></div><div class=panel-body><div class=top-resource-description><p>Scripts which are run at specific times or at certain intervals.</p><p><strong>COMING SOON</strong></p></div><div class=panel-group><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__sheduled_scripts><span class=parent></span>/sheduled-scripts</a> <span class=methods></span></h4></div><div id=panel__sheduled_scripts class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>Scripts which are run at specific times or at certain intervals.</p><p><strong>COMING SOON</strong></p></div><div class=list-group></div></div></div></div></div></div></div><div class="panel panel-default"><div class=panel-heading><h3 id=_libraries class=panel-title>Script Libraries</h3></div><div class=panel-body><div class=top-resource-description><p>Collections of javascript libraries to be exposed to scripts if requested.</p><p><strong>COMING SOON</strong></p></div><div class=panel-group><div class="panel panel-white"><div class=panel-heading><h4 class=panel-title><a class=collapsed data-toggle=collapse href=#panel__libraries><span class=parent></span>/libraries</a> <span class=methods></span></h4></div><div id=panel__libraries class="panel-collapse collapse"><div class=panel-body><div class=resource-description><p>Collections of javascript libraries to be exposed to scripts if requested.</p><p><strong>COMING SOON</strong></p></div><div class=list-group></div></div></div></div></div></div></div></div><div class=col-md-3><div id=sidebar class="hidden-print affix" role=complementary><ul class="nav nav-pills nav-stacked"><li><a href=#_resource_triggered_scripts>Resource Triggered Scripts</a></li><li><a href=#_endpoint_scripts>Endpoint Scripts</a></li><li><a href=#_sheduled_scripts>Scheduled Scripts</a></li><li><a href=#_libraries>Script Libraries</a></li></ul></div></div></div></div></body></html>